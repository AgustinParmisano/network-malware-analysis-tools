#!/bin/bash

help_msg="Usage: first argument conn.log file second argument labels.csv configuration file"

if [ $# -ne 2 ]; then
    echo $help_msg
    exit 1
fi

if [ ! -f $1 ]; then
    echo "First argument is not a vali file path"
    echo $help_msg
    exit 2
fi

if [ ! -f $2 ]; then
    echo "Second argument is not a vali file path"
    echo $help_msg
    exit 3
fi

connlog_file=$1
labels_csv_file=$2

echo "Starting flaber.py: fast labeler script"
python3 flaber.py $connlog_file $labels_csv_file
echo "flaber.py script terminated"
echo "Starting bro_column_adder.py script"
python3 bro_column_adder.py $connlog_file out.csv
echo "bro_column_adder.py terminated"

rm out.csv
exit 0